name: Workflow
on:
  push:
    branches:
      - master
jobs:
  build:
    runs-on: self-hosted
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Run bulid
        run: npm run build
# 設定整個工作流程失敗時自動重跑
on:
  workflow_run:
    workflows: ["Workflow"]
    types:
      - completed
    result: failure